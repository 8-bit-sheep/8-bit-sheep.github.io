{"version":3,"file":"shadow.dom.js","sources":["shadow/dom.cljs"],"mappings":"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","names":["shadow.dom/remove-style*","el","it","shadow.dom/select-option-values","event","G__35301","G__35302","goog.dom/insertSiblingAfter","new-node","shadow.dom/dom-node","ref","var_args","G__35071","shadow.dom/check","js/Error","G__34934","shadow.dom/append","shadow.dom.append.cljs$core$IFn$_invoke$arity$2","new","shadow.dom/make-svg-node","structure","cljs.core.reduce.cljs$core$IFn$_invoke$arity$3","p__35130","vec__35131","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","s","script-tag","script-body","style","spec","fhash","shadow.dom.event_chan.cljs$core$IFn$_invoke$arity$4","handler","e","ev","p__34936","vec__34937","seq__34938","cljs.core/seq","first__34939","cljs.core/first","cljs.core/next","shadow.dom/destructure-node","sel","root","shadow.dom/NativeColl","shadow.dom/set-attr","key","value","cljs.core.async/close!","chan","shadow.dom/get-size","cljs.core.map.cljs$core$IFn$_invoke$arity$2","k","clojure.string.join.cljs$core$IFn$_invoke$arity$2","path","v","p__35286","vec__35287","shadow.dom/svg-node","seq__34885","chunk__34886","count__34887","i__34888","vec__34889","temp__5457__auto__","cljs.core/chunked-seq?","c__4338__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","vec__34895","styles","node","xf","once-or-cleanup","shadow.dom/insert-before","child","G__34942","G__34943","create-fn","nn","cljs.core.conj.cljs$core$IFn$_invoke$arity$2","nc","np","shadow.dom/add-event-listeners","shadow.dom/add-class","cls","or__3936__auto__","js/document","shadow.dom/->Coordinate","pos","cljs.core/reduce-kv","cljs.core/name","shadow.dom/dom-listen-remove","G__34859","G__34860","G__34861","shadow.dom/set-attr*","shadow.dom/size->clj","size","G__34787","shadow.dom/query-one","shadow.dom/Size","cljs.core/LazySeq","ret","opts","i","shadow.dom/-to-svg","this","text","seq__35326","chunk__35327","count__35328","i__35329","vec__35330","vec__35333","props","shadow.dom/get-page-offset","G__35244","goog.style/getClientPosition","ks","shadow.dom/get-previous-sibling","shadow.dom/get-next-sibling","G__35243","goog.style/getPosition","shadow.dom/str->fragment","id","cljs.core/cons","coll","idx","parent","shadow.dom/parents","shadow.dom/remove-class","fragment","a__4392__auto__","l__4393__auto__","new-text","checked","tag-classes","shadow.dom/insert-first","goog.style/setStyle","G__34892","G__34893","G__34894","G__34898","G__34899","G__34900","dom","shadow.dom/set-html","shadow.dom/merge-class-string","current","extra-class","shadow.dom.ev_stop.cljs$core$IFn$_invoke$arity$1","shadow.dom/native-coll","G__34855","G__34856","G__34857","shadow.dom/dom-listen","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","fdot","shadow.dom/get-height","shadow.dom.on.cljs$core$IFn$_invoke$arity$3","cljs.core/PROTOCOL_SENTINEL","goog.string/startsWith","this__11998__auto__","k__11999__auto__","cljs.core._lookup.cljs$core$IFn$_invoke$arity$3","this__12000__auto__","k35247","else__12001__auto__","G__35251","cljs.core/Keyword","w","h","cljs.core.get.cljs$core$IFn$_invoke$arity$3","__extmap","this__12012__auto__","writer__12013__auto__","opts__12014__auto__","pr-pair__12015__auto__","keyval__12016__auto__","cljs.core/pr-sequential-writer","cljs.core/pr-writer","cljs.core.concat.cljs$core$IFn$_invoke$arity$2","cljs.core/PersistentVector","G__35246","cljs.core/RecordIter","cljs.core/-iterator","cljs.core/nil-iter","this__11996__auto__","__meta","this__11993__auto__","__hash","this__12002__auto__","this__11994__auto__","h__4048__auto__","fexpr__35252","coll__11995__auto__","cljs.core/hash-unordered-coll","this35248","other35249","this__12007__auto__","k__12008__auto__","cljs.core/contains?","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2","cljs.core/-with-meta","cljs.core.into.cljs$core$IFn$_invoke$arity$2","cljs.core/not-empty","this__12005__auto__","k__12006__auto__","pred__35257","cljs.core/keyword-identical?","expr__35258","G__35260","G__35261","G__35262","G__35263","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","this__12010__auto__","this__11997__auto__","this__12003__auto__","entry__12004__auto__","cljs.core/vector?","cljs.core/-assoc","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core/-conj","this__4227__auto__","cljs.core/List","writer__4228__auto__","cljs.core/-write","G__35250","extmap__4223__auto__","G__35271","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic","cljs.core/record?","shadow.dom/->Size","shadow.dom/map->Size","shadow.dom/set-style","scripts","cljs.core/re-seq","shadow.dom/has-class?","shadow.dom/remove-styles","style-keys","js/HTMLElement","shadow.dom.on.cljs$core$IFn$_invoke$arity$4","shadow.dom.redirect.cljs$core$IFn$_invoke$arity$2","query-params","shadow.dom/replace-node","old","G__35294","shadow.dom/redirect","cljs.core/seq?","children","cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2","shadow.dom/insert-after","tag-id","shadow.dom/on-query","root-el","selector","shadow.dom/parse-tag","G__35066","shadow.dom/text","shadow.dom/px","cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2","G__35507","shadow.dom/event-chan","tag","goog.dom/getAncestorByTagNameAndClass","G__35187","G__35188","G__35189","shadow.dom/get-position","cljs.core/empty?","seq__35117","chunk__35118","count__35119","i__35120","vec__35121","vec__35124","shadow.dom/build-url","shadow.dom/-to-dom","seq__35367","chunk__35369","count__35370","i__35371","child-struct","node-children","shadow.dom/checked?","n","seq__34947","chunk__34948","count__34949","i__34950","shadow.dom/remove-event-handler","event-fn","vec__34929","tag-props","tag-name","tag-def","shadow.dom/eval-scripts","shadow.dom/lazy-native-coll-seq","G__35245","goog.style/getPageOffset","shadow.dom/make-dom-node","G__34940","G__34941","G__34807","shadow.dom/contains?","G__35321","goog.dom/getNextElementSibling","seq__34863","chunk__34864","count__34865","i__34866","vec__34867","vec__34870","events","shadow.dom.check.cljs$core$IFn$_invoke$arity$2","seq__34951","chunk__34953","count__34954","i__34955","seq__34957","chunk__34959","count__34960","i__34961","G__34924","G__34925","goog.dom.classlist/contains","goog.dom/childrenToNode_","shadow.dom/form-elements","js/document.createElement","js/window","_","goog.dom/removeNode","seq__35373","chunk__35375","count__35376","i__35377","seq__35379","chunk__35381","count__35382","i__35383","attrs","js/encodeURIComponent","temp__5455__auto__","default","G__35185","G__35186","vec__34944","shadow.dom/create-dom-node","shadow.dom/children","shadow.dom/set-data","cljs.core/map?","args__4521__auto__","len__4518__auto__","i__4519__auto__","argseq__4522__auto__","cljs.core/IndexedSeq","shadow.dom/fragment","seq35082","self__4506__auto__","nodes","G__34813","G__34814","goog.dom.classlist/add","shadow.dom/get-parent","G__35063","G__35064","goog.dom/replaceNode","js/Object","clojure.string/replace","shadow.dom/ancestor-by-class","ns","cljs.core/namespace","js/eval","vec__35323","this__4179__auto__","writer__4180__auto__","opt__4181__auto__","shadow.dom/->NativeColl","k35217","G__35221","x","y","G__35216","fexpr__35222","this35218","other35219","pred__35223","expr__35224","G__35226","G__35227","G__35228","G__35229","shadow.dom/Coordinate","G__35220","G__35234","shadow.dom/map->Coordinate","G__35079","shadow.dom/attr","ps","cljs.core/vec","vec__35364","shadow.dom/create-svg-node","G__35278","goog.style/getSize","G__34815","G__34816","goog.dom.classlist/remove","G__34760","G__34761","p__34926","map__34927","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","class","native","not-found","goog.dom/getViewportSize","shadow.dom/svg","seq35497","G__35498","self__4505__auto__","G__34919","shadow.dom/transition-supported?","shadow.dom/pct","buf","cljs.core.async/sliding-buffer","G__35196","G__35197","goog.dom.forms/setValue","G__35044","goog.dom/removeChildren","shadow.dom/first-child","G__35322","goog.dom/getPreviousElementSibling","G__34854","shadow.dom/on","shadow.dom/child-nodes","G__34819","G__34820","goog.dom.classlist/toggle","shadow.dom/index-of","x__4230__auto__","m__4231__auto__","shadow/dom.-to-svg","goog/typeOf","cljs.core/missing-protocol","shadow.dom/SVGElement","js/DocumentFragment","seq__35199","chunk__35200","count__35201","i__35202","shadow.dom/reset","shadow.dom/get-value","shadow.dom/get-client-position","G__35184","shadow.dom/ancestor-by-tag","capture","shadow.dom/remove","shadow.dom/get-viewport-size","shadow.dom/del-attr","shadow.dom/remove-style","G__35305","G__35306","goog.dom/insertSiblingBefore","shadow.dom/tag-name","seq__34823","chunk__34824","count__34825","i__34826","shadow.dom.query.cljs$core$IFn$_invoke$arity$2","seq__35047","chunk__35048","count__35049","i__35050","goog.style.transition/isSupported","G__35512","G__35513","G__35514","shadow.dom/xmlns","cljs.core.atom.cljs$core$IFn$_invoke$arity$1","G__35319","goog.dom/getParentElement","js/console","G__34827","G__34828","G__34829","G__34830","G__34831","G__34832","shadow/dom.-to-dom","shadow.dom/IElement","shadow.dom/data","e34822","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$2","shadow.dom/node-name","cljs.core/deref","scope","owner","and__3925__auto__","shadow.dom/reload!","shadow.dom/set-value","G__34803","shadow.dom/ev-stop","G__34810","G__34811","goog.dom/contains","G__34932","goog.dom/createDom","shadow.dom/set-attrs","seq__35083","chunk__35084","count__35085","i__35086","G__34818","shadow.dom/toggle-class","cljs.core/second","c__32322__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__32323__auto__","switch__32247__auto__","state_35520","state_val_35521","cljs.core.async.impl.ioc-helpers/take!","inst_35517","inst_35518","statearr-35522","cljs.core.async.impl.ioc-helpers/return-chan","statearr-35524","state-machine__32248__auto__","ret-value__32249__auto__","result__32250__auto__","e35527","ex__32251__auto__","statearr-35528","cljs.core.async.impl.ioc-helpers/process-exception","state__32324__auto__","statearr-35532","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","G__35179","G__35180","goog.dom/getAncestorByClass","G__34796","shadow.dom/by-id","goog.object/set","G__35476","G__35477","G__35478","G__35480","G__35481","G__35482","shadow.dom/build","G__35195","goog.dom.forms/getValue","G__34790","shadow.dom/query","G__34808","G__34809","shadow.dom/matches","shadow.dom/get-html"],"sourcesContent":["(ns shadow.dom\n  (:refer-clojure :exclude [remove contains? parents])\n  (:require-macros [cljs.core.async.macros :refer (go)])\n  (:require [goog.dom :as dom]\n            [goog.dom.forms :as gf]\n            [goog.dom.classlist :as gcls]\n            [goog.style :as gs]\n            [goog.style.transition :as gst]\n            [goog.string :as gstr]\n            [clojure.string :as str]\n            [cljs.core.async :as async]))\n\n(def transition-supported?\n  (when (exists? js/window)\n    (gst/isSupported)))\n\n(defprotocol IElement\n  (-to-dom [this]))\n\n(defprotocol SVGElement\n  (-to-svg [this]))\n\n(defn- lazy-native-coll-seq [coll idx]\n  (when (< idx (.-length coll))\n    (lazy-seq (cons (aget coll idx)\n                (lazy-native-coll-seq coll (inc idx))))\n    ))\n\n(deftype NativeColl [coll]\n  IDeref\n  (-deref [this] coll)\n\n  IIndexed\n  (-nth [this n] (aget coll n))\n  (-nth [this n not-found] (or (aget coll n) not-found))\n\n  ICounted\n  (-count [this] (.-length coll))\n\n  ISeqable\n  (-seq [this] (lazy-native-coll-seq coll 0))\n\n  IElement\n  (-to-dom [this] coll)\n  )\n\n(defn native-coll [coll]\n  (NativeColl. coll))\n\n(defn dom-node [el]\n  ;; FIXME: this method is called alot, how expensive is this check?\n  ;; protocols on native elements are funky\n  (cond\n    (nil? el) nil\n    (implements? IElement el) (-to-dom ^not-native el)\n    (string? el) (.createTextNode js/document el)\n    (number? el) (.createTextNode js/document (str el))\n    :else el))\n\n(defn query-one\n  ([sel] (.querySelector js/document sel))\n  ([sel root] (.querySelector (dom-node root) sel)))\n\n(defn query\n  ([sel] (NativeColl. (.querySelectorAll js/document sel)))\n  ([sel root] (NativeColl. (.querySelectorAll (dom-node root) sel))))\n\n(defn by-id\n  ([id el] (.getElementById (dom-node el) id))\n  ([id] (.getElementById js/document id)))\n\n(def build dom-node)\n\n(defn ev-stop\n  ([e]\n   (if (.-stopPropagation e)\n     (do\n       (.stopPropagation e)\n       (.preventDefault e))\n     (do\n       (set! (.-cancelBubble e) true)\n       (set! (.-returnValue e) false)))\n   e)\n  ([e el]\n   (ev-stop e)\n   el)\n  ;; new arity for sc/on\n  ([e el scope owner]\n   (ev-stop e)\n   el))\n\n(defn contains?\n  \"check wether a parent node (or the document) contains the child\"\n  ([el]\n   (dom/contains js/document (dom-node el)))\n  ([parent el]\n   (dom/contains (dom-node parent) (dom-node el))))\n\n\n(defn add-class [el cls]\n  (gcls/add (dom-node el) cls))\n\n(defn remove-class [el cls]\n  (gcls/remove (dom-node el) cls))\n\n(defn toggle-class\n  ([el cls]\n   (gcls/toggle (dom-node el) cls))\n  ([el cls v]\n   (if v\n     (add-class el cls)\n     (remove-class el cls))))\n\n;; private, use on\n(def dom-listen\n  (if (or (not (exists? js/document))\n          (.-addEventListener js/document))\n    (fn dom-listen-good [el ev handler]\n      (.addEventListener el ev handler false))\n    (fn dom-listen-ie [el ev handler]\n      (try\n        (.attachEvent el (str \"on\" ev) (fn [e] (handler e el)))\n        (catch js/Object e\n          (.log js/console \"didnt support attachEvent\" el e)))\n      )))\n\n;; private, only works if you used dom-listen since on wrap the event handler\n(def dom-listen-remove\n  (if (or (not (exists? js/document))\n          (.-removeEventListener js/document))\n    (fn dom-listen-remove-good [el ev handler]\n      (.removeEventListener el ev handler false))\n    (fn dom-listen-remove-ie [el ev handler]\n      (.detachEvent el (str \"on\" ev) handler))\n    ))\n;; // private\n\n(defn on-query [root-el ev selector handler]\n  (doseq [el (query selector root-el)]\n    (let [handler (fn [e] (handler e el))]\n      (dom-listen el (name ev) handler))))\n\n(defn on\n  ([el ev handler]\n   (on el ev handler false))\n  ([el ev handler capture]\n   (if (vector? ev)\n     (on-query el (first ev) (second ev) handler)\n     (let [handler (fn [e] (handler e el))]\n       (dom-listen (dom-node el) (name ev) handler)))))\n\n;; only work when used with dom-listen, on will wrap the handler so you can't remove it\n(defn remove-event-handler [el ev handler]\n  (dom-listen-remove (dom-node el) (name ev) handler))\n\n(defn add-event-listeners [el events]\n  (doseq [[k v] events]\n    (on el k v)))\n\n(defn set-style [el styles]\n  (let [dom (dom-node el)]\n\n    ;; apparently IE10+ allows setting properties to null which has unexpected effects\n    ;; on transition and display.\n    (doseq [[k v] styles]\n      (gs/setStyle dom (name k) (if (nil? v)\n                                  \"\"\n                                  v)))))\n\n(defn set-attr* [el key value]\n  ;; basically clone of goog.dom.setProperties, but with keywords\n  (case key\n    :id (set! (.-id el) (str value))\n    :class (set! (.-className el) (str value))\n    :for (set! (.-htmlFor el) value)\n    ;; see goog.dom.DIRECT_ATTRIBUTE_MAP_\n    :cellpadding (.setAttribute el \"cellPadding\" value)\n    :cellspacing (.setAttribute el \"cellSpacing\" value)\n    :colspan (.setAttribute el \"colSpan\" value)\n    :frameborder (.setAttribute el \"frameBorder\" value)\n    :height (.setAttribute el \"height\" value)\n    :maxlength (.setAttribute el \"maxLength\" value)\n    :role (.setAttribute el \"role\" value)\n    :rowspan (.setAttribute el \"rowSpan\" value)\n    :type (.setAttribute el \"type\" value)\n    :usemap (.setAttribute el \"useMap\" value)\n    :valign (.setAttribute el \"vAlign\" value)\n    :width (.setAttribute el \"width\" value)\n    :on (add-event-listeners el value)\n    :style (cond\n             (nil? value)\n             nil\n\n             (string? value)\n             (.setAttribute el \"style\" value)\n\n             (map? value)\n             (set-style el value)\n\n             :else\n             (gs/setStyle el value))\n    ;; FIXME: support :style maps\n    (let [ks (name key)]\n      (if (or (gstr/startsWith ks \"data-\")\n              (gstr/startsWith ks \"aria-\"))\n        (.setAttribute el ks value)\n        (aset el ks value))))\n  el)\n\n(defn set-attrs [el attrs]\n  (reduce-kv\n    (fn [el key value]\n      ;; use special version, so we don't do (dom-node el) every time\n      (set-attr* el key value)\n      el)\n    (dom-node el)\n    attrs))\n\n(defn set-attr [el key value]\n  (set-attr* (dom-node el) key value))\n\n\n(defn has-class? [el cls]\n  (gcls/contains (dom-node el) cls))\n\n(defn- merge-class-string [current extra-class]\n  (if (seq current)\n    (str current \" \" extra-class)\n    extra-class))\n\n\n;; before strange code!!!\n;; just because I can and messing with a huge regexp sucks\n;; messing with a native javascript object should also be faster\n(defn parse-tag [spec]\n  (let [spec (name spec)\n        fdot (.indexOf spec \".\")\n        fhash (.indexOf spec \"#\")]\n    (cond\n      (and (= -1 fdot) (= -1 fhash))\n      [spec nil nil]\n\n      (= -1 fhash)\n      [(.substring spec 0 fdot)\n       nil\n       (str/replace (.substring spec (inc fdot)) #\"\\.\" \" \")]\n\n      (= -1 fdot)\n      [(.substring spec 0 fhash)\n       (.substring spec (inc fhash))\n       nil]\n\n      (> fhash fdot)\n      (throw (str \"cant have id after class?\" spec))\n\n      :else\n      [(.substring spec 0 fhash)\n       (.substring spec (inc fhash) fdot)\n       (str/replace (.substring spec (inc fdot)) #\"\\.\" \" \")])))\n\n\n(defn create-dom-node [tag-def {:keys [class] :as props}]\n  (let [tag-props #js {} ;;  (clj->js props)\n        [tag-name tag-id tag-classes] (parse-tag tag-def)]\n    (when tag-id\n      (aset tag-props \"id\" tag-id))\n\n    (when tag-classes\n      (aset tag-props \"class\" (merge-class-string class tag-classes)))\n\n    (doto (dom/createDom tag-name tag-props)\n      (set-attrs (dissoc props :class)))\n    ))\n\n;; FIXME: throw on nil? trying to append nil should be an error, not ignored\n(defn append\n  ([node]\n   (when node\n     (when-let [n (dom-node node)]\n       (.appendChild (.-body js/document) n)\n       n)))\n  ([el node]\n   (when node\n     (when-let [n (dom-node node)]\n       (.appendChild (dom-node el) n)\n       n))))\n\n(defn destructure-node\n  [create-fn [nn np & nc :as node]]\n  (when-not (keyword? nn)\n    (throw (ex-info \"invalid dom node\" {:node node})))\n\n  (cond\n    (and (nil? np) (nil? nc)) ;; [:div.something]\n    [(create-fn nn {}) '()]\n    (map? np) ;; [:div.something {:some \"attr\"}]\n    [(create-fn nn np) nc]\n    :else ;; [:div.something \"content\" \"more-content\"]\n    [(create-fn nn {}) (conj nc np)]))\n\n;; restore sanity!\n\n(defn make-dom-node [structure]\n  (let [[node node-children] (destructure-node create-dom-node structure)]\n\n    (doseq [child-struct node-children]\n      (let [children (dom-node child-struct)]\n        (if (seq? children)\n          (doseq [child (map dom-node children)\n                  :when child]\n            (append node child))\n          (do\n            (append node children)))))\n    node))\n\n(extend-protocol IElement\n  Keyword\n  (-to-dom [this] (make-dom-node [this]))\n\n  PersistentVector\n  (-to-dom [this]\n    (make-dom-node this))\n\n  LazySeq\n  (-to-dom [this]\n    (map -to-dom this)))\n\n(when (js* \"((typeof HTMLElement) != 'undefined')\")\n  (extend-protocol IElement\n    js/HTMLElement\n    (-to-dom [this] this)\n    ))\n\n(when (js* \"((typeof DocumentFragment) != 'undefined')\")\n  (extend-protocol IElement\n    js/DocumentFragment\n    (-to-dom [this] this)\n    ))\n\n(defn reset\n  \"clear node children\"\n  [node]\n  (dom/removeChildren (dom-node node)))\n\n(defn remove [node]\n  (if (implements? ISeqable node)\n    (doseq [n node] (remove n))\n    (dom/removeNode node)))\n\n(defn replace-node [old new]\n  ;; wth reverse\n  (dom/replaceNode (dom-node new) (dom-node old)))\n\n(defn text\n  ([el new-text] (set! (.-innerText (dom-node el)) new-text))\n  ([el] (.-innerText (dom-node el))))\n\n(defn check\n  ([el] (check el true))\n  ([el checked]\n   (set! (.-checked (dom-node el)) checked)\n    ))\n\n(defn checked? [el] (.-checked (dom-node el)))\n\n(defn form-elements [el]\n  (NativeColl. (.-elements (dom-node el))))\n\n(defn children [el]\n  (NativeColl. (.-children (dom-node el))))\n\n(defn child-nodes [el]\n  (NativeColl. (.-childNodes (dom-node el))))\n\n(defn attr\n  ([el key] (.getAttribute (dom-node el) (name key)))\n  ([el key default] (or (.getAttribute (dom-node el) (name key)) default)))\n\n(defn del-attr [el key]\n  (.removeAttribute (dom-node el) (name key)))\n\n(defn data [el key]\n  (.getAttribute (dom-node el) (str \"data-\" (name key))))\n\n(defn set-data [el key value]\n  (.setAttribute (dom-node el) (str \"data-\" (name key)) (str value)))\n\n(defn set-html [node text]\n  (set! (.-innerHTML (dom-node node)) text))\n\n(defn get-html [node]\n  (.-innerHTML (dom-node node)))\n\n(defn fragment [& nodes]\n  (let [fragment (.createDocumentFragment js/document)]\n    (doseq [node nodes]\n      (.appendChild fragment (-to-dom node)))\n    (NativeColl. fragment)\n    ))\n\n\n(defn eval-scripts\n  \"given a html string, eval all <script> tags and return the html without the scripts\n   don't do this for everything, only content you trust.\"\n  [s]\n  (let [scripts (re-seq #\"<script[^>]*?>(.+?)</script>\" s)]\n\n    (doseq [[script-tag script-body] scripts]\n      (js/eval script-body))\n\n    (reduce (fn [s [script-tag script-body]]\n              (str/replace s script-tag \"\"))\n      s\n      scripts)\n    ))\n\n(defn str->fragment [s]\n  (let [el (js/document.createElement \"div\")]\n    (set! (.-innerHTML el) s)\n    (NativeColl. (dom/childrenToNode_ js/document el))))\n\n(defn node-name [el]\n  (.-nodeName (dom-node el)))\n\n(defn ancestor-by-class [el cls]\n  (dom/getAncestorByClass (dom-node el) cls))\n\n(defn ancestor-by-tag\n  ([el tag] (dom/getAncestorByTagNameAndClass (dom-node el) (name tag)))\n  ([el tag cls] (dom/getAncestorByTagNameAndClass (dom-node el) (name tag) (name cls))))\n\n(defn get-value [dom]\n  (gf/getValue (dom-node dom)))\n\n(defn set-value [dom value]\n  (gf/setValue (dom-node dom) value))\n\n(defn px [value]\n  (str (int value) \"px\"))\n\n(defn pct [value]\n  (str value \"%\"))\n\n(defn remove-style* [el style]\n  (.removeProperty (.-style el) (name style)))\n\n(defn remove-style [el style]\n  (let [el (dom-node el)]\n    (remove-style* el style)))\n\n(defn remove-styles [el style-keys]\n  (let [el (dom-node el)]\n    (doseq [it style-keys]\n      (remove-style* el it))))\n\n\n(defrecord Coordinate [x y])\n\n(defn get-position [el]\n  (let [pos (gs/getPosition (dom-node el))]\n    (->Coordinate (.-x pos) (.-y pos))))\n\n(defn get-client-position [el]\n  (let [pos (gs/getClientPosition (dom-node el))]\n    (->Coordinate (.-x pos) (.-y pos))))\n\n(defn get-page-offset [el]\n  (let [pos (gs/getPageOffset (dom-node el))]\n    (->Coordinate (.-x pos) (.-y pos))))\n\n(defrecord Size [w h])\n\n(defn size->clj [size]\n  (Size. (.-width size) (.-height size)))\n\n(defn get-size [el]\n  (size->clj (gs/getSize (dom-node el))))\n\n(defn get-height [el]\n  (-> el get-size :h))\n\n(defn get-viewport-size []\n  (size->clj (dom/getViewportSize)))\n\n(defn first-child [el]\n  (aget (.-children (dom-node el)) 0))\n\n(defn select-option-values [el]\n  (let [native (dom-node el)\n        opts (aget native \"options\")]\n    (areduce opts i ret []\n      (conj ret (aget opts i \"value\")))\n    ))\n\n(defn build-url [path query-params]\n  (if (empty? query-params)\n    path\n    (str path \"?\" (str/join \"&\" (map (fn [[k v]]\n                                       (str (name k) \"=\" (js/encodeURIComponent (str v))))\n                                  query-params)))\n    ))\n\n(defn redirect\n  ([path]\n   (redirect path {}))\n  ([path query-params]\n   (aset js/document \"location\" \"href\" (build-url path query-params))\n    ))\n\n(defn reload! []\n  (set! (.. js/document -location -href)\n    (.. js/document -location -href)))\n\n(defn tag-name [el]\n  (let [dom (dom-node el)]\n    (.-tagName dom)))\n\n(defn insert-after [ref new]\n  (let [new-node (dom-node new)]\n    (dom/insertSiblingAfter new-node (dom-node ref))\n    new-node))\n\n(defn insert-before [ref new]\n  (let [new-node (dom-node new)]\n    (dom/insertSiblingBefore new-node (dom-node ref))\n    new-node))\n\n(defn insert-first [ref new]\n  (if-let [child (.-firstChild (dom-node ref))]\n    (insert-before child new)\n    (append ref new)))\n\n(defn index-of [el]\n  (loop [el (dom-node el)\n         i 0]\n    (let [ps (.-previousSibling el)]\n      (if (nil? ps)\n        i\n        (recur ps (inc i))\n        ))))\n\n(defn get-parent [el]\n  (dom/getParentElement (dom-node el)))\n\n(defn parents [el]\n  (let [parent (get-parent el)]\n    (when parent\n      (cons parent (lazy-seq (parents parent))))))\n\n(defn matches [el sel]\n  (.matches (dom-node el) sel))\n\n(defn get-next-sibling [el]\n  (dom/getNextElementSibling (dom-node el)))\n\n(defn get-previous-sibling [el]\n  (dom/getPreviousElementSibling (dom-node el)))\n\n\n(def xmlns (atom {\"svg\" \"http://www.w3.org/2000/svg\"\n                  \"xlink\" \"http://www.w3.org/1999/xlink\"}))\n\n(defn create-svg-node [tag-def props]\n  (let [[tag-name tag-id tag-classes] (parse-tag tag-def)]\n    (let [el (.createElementNS js/document \"http://www.w3.org/2000/svg\" tag-name)]\n      (when tag-id\n        (.setAttribute el \"id\" tag-id))\n\n      (when tag-classes\n        (.setAttribute el \"class\" (merge-class-string (:class props) tag-classes)))\n\n      (doseq [[k v] props]\n        (.setAttributeNS el\n          (when-let [ns (namespace k)]\n            (get @xmlns ns))\n          (name k) v))\n\n      el\n      )))\n\n(defn svg-node [el]\n  (cond\n    (nil? el) nil\n    (implements? SVGElement el) (-to-svg ^not-native el)\n    :else el))\n\n(defn make-svg-node [structure]\n  (let [[node node-children] (destructure-node create-svg-node structure)]\n\n    (doseq [child-struct node-children\n            :when (not (nil? child-struct))]\n      (if (string? child-struct)\n        (let [text (aget node \"textContent\")]\n          (aset node \"textContent\" (str text child-struct)))\n        (let [children (svg-node child-struct)]\n          (if (seq? children)\n            (doseq [child children\n                    :when child]\n              (.appendChild node child))\n            (.appendChild node children)))))\n    node))\n\n(extend-protocol SVGElement\n  string\n  (-to-svg [this]\n    (if (keyword? this)\n      (make-svg-node [this])\n      (throw (ex-info \"strings cannot be in svgs\" {:this this}))))\n\n  PersistentVector\n  (-to-svg [this]\n    (make-svg-node this))\n\n  LazySeq\n  (-to-svg [this]\n    (map -to-svg this))\n\n  nil\n  (-to-svg [_] nil))\n\n;; FIXME: could autodetect svg elements but that would mean checking\n;; if tag == :svg for every node created in dom-node, that kinda sucks\n(defn svg [attrs & children]\n  (-to-svg (vec (concat [:svg attrs] children))))\n\n\n\n\n;; core.async stuff\n\n(defn event-chan\n  \"returns a channel for events on el\n   transform-fn should be a (fn [e el] some-val) where some-val will be put on the chan\n   once-or-cleanup handles the removal of the event handler\n   - true: remove after one event\n   - false: never removed\n   - chan: remove on msg/close\"\n  ([el event]\n   (event-chan el event nil false))\n  ([el event xf]\n   (event-chan el event xf false))\n  ([el event xf once-or-cleanup]\n   (let [buf (async/sliding-buffer 1)\n         chan (async/chan buf xf)\n         event-fn (fn event-fn [e]\n                    (async/put! chan e)\n                    (when (true? once-or-cleanup)\n                      (remove-event-handler el event event-fn)\n                      (async/close! chan)\n                      ))]\n     (dom-listen (dom-node el) (name event) event-fn)\n\n     ;; when given a channel fire up a go that removes event handler when closed/msg\n     (when (and once-or-cleanup\n                (not (true? once-or-cleanup)))\n       (go (<! once-or-cleanup)\n           (remove-event-handler el event event-fn)))\n     chan\n     )))\n\n\n"]}